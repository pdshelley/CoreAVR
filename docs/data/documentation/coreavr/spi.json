{"kind":"symbol","topicSections":[{"title":"Enumerations","identifiers":["doc:\/\/CoreAVR\/documentation\/CoreAVR\/SPI\/ClockPhase","doc:\/\/CoreAVR\/documentation\/CoreAVR\/SPI\/ClockPolarity","doc:\/\/CoreAVR\/documentation\/CoreAVR\/SPI\/ClockRateSelect"]}],"primaryContentSections":[{"declarations":[{"platforms":["macOS"],"languages":["swift"],"tokens":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"SPI"}]}],"kind":"declarations"},{"content":[{"text":"Overview","level":2,"anchor":"overview","type":"heading"},{"inlineContent":[{"type":"text","text":"19.1 Features"},{"type":"text","text":" "},{"type":"text","text":"• Full-duplex, Three-wire Synchronous Data Transfer • Master or Slave Operation"},{"text":" ","type":"text"},{"text":"• LSB First or MSB First Data Transfer","type":"text"},{"type":"text","text":" "},{"type":"text","text":"• Seven Programmable Bit Rates"},{"type":"text","text":" "},{"type":"text","text":"• End of Transmission Interrupt Flag"},{"type":"text","text":" "},{"type":"text","text":"• Write Collision Flag Protection"},{"text":" ","type":"text"},{"text":"• Wake-up from Idle Mode","type":"text"},{"type":"text","text":" "},{"text":"• Double Speed (CK\/2) Master SPI Mode","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"19.2 Overview"},{"text":" ","type":"text"},{"type":"text","text":"The Serial Peripheral Interface (SPI) allows high-speed synchronous data transfer between the ATmega48A\/PA\/88A\/PA\/168A\/PA\/328\/P and peripheral devices or between several AVR devices."},{"type":"text","text":" "},{"type":"text","text":"The USART can also be used in Master SPI mode, see “USART in SPI Mode” on page 205. The PRSPI bit in ”Minimizing Power Consumption” on page 51 must be written to zero to enable SPI module."}],"type":"paragraph"},{"code":["                                      SPI Block Diagram","","                                                                                ┌───────┐","                                ┌──────────────────────────────────────────●───▶│S      │     ┌────┐","                                │   ┌────────────────────────────────────┐ │ ┌──│M      ├─────┤MISO│","              XTAL              │   │     MSB                    LSB     │ └─┼─▶│M      │     └────┘","                │               │   │    ┌──────────────────────────┐    │   │  │       │     ┌────┐","                │               └───┤    │   8 BIT SHIFT REGISTER   │◀ ─ ┼ ─ ●──┤S      ├─────┤MOSI│","                ▼                   │    ├──────────────────────────┤    │      │       │     └────┘","    ┌──────────────────────┐        │    │     READ DATA BUFFER     │    │      │       │","    │       DIVIDER        │        │    └──────────────────────────┘    │      │  PIN  │","    │ \/2\/4\/8\/16\/32\/64\/128  │        │                                    │      │CONTROL│","    └─────┬───┬──┬───┬─────┘        └────────────────────────────────────┘      │ LOGIC │","          │   │  │   │                       ▲                  ▲               │       │","          ▼   ▼  ▼   ▼                       ▼                  │ CLOCK         │       │","       ┌────────────────┐ SPI CLOCK (MASTER) │            ┌─────┴─────┐         │       │","       │                ├────────────────────┼───────────▶│           │         │       │     ┌────┐","       │     SELECT     │                    │            │   CLOCK   │◀────────┤S      ├─────┤SCK │","       │                │    ┌───────────────┼────────────┤   LOGIC   │         │       │     └────┘","       └────────────────┘    │  ┌────────────┼───────────▶│           ├────────▶│M      │     ┌────┐","         S▲  S▲  S ▲         │  │            │            └───────────┘         │       ├─────┤ SS │","         P│  P│  P │         │  │            │              ▲  ▲  ▲             │       │     └────┘","         I│  R│  R │         │  │  ┌─────────┼──────────────┼──┼──┼─────────────┤       │","         2│  1│  2 │         │  │  │         │              │  │  │             └───────┘","         X│   │    └─────────┼──┼──┼─────────┼──────────────┼──┼──┼─────┐       M▲ S▲ D▲","    ┌─────┘   └──────────────┼──┼──┼─────────┼──────────────┼──┼──┼──┐  │       S│ P│ O│","    │                        │  │  │         │              │  │  │  │  │       T│ E│ R│","    │                        ▼  │  ▼  MSTR   │              │  │  │  │  │       R│  │ D│","    │  ┌────────────────────────┴───┐◀───────┼──────────────●──┼──┼──┼──┼────────┘  │  │","    │  │                            │ SPE    │              │  │  │  │  │           │  │","    │  │        SPI CONTROL         │◀───────┼────────●─────┼──┼──┼──┼──┼───────────┘  │","    │  │                            │        │        │     │  │  │  │  │              │","    │  └─┬──┬────────────────────┬──┘◀───────┼─────┐  │  ┌──┼──┼──┼──┼──┼──────────────┘","    │    │  │                ▲   │           │     │  │  │  │  │  │  │  │","    └────┼──┼────────────────●   │           │     │  │  │  │  │  │  │  │","         │  │               S│   │           │     │  │  │  │  │  │  │  │","        S│ W│               P│   │           │    S│  │ D│ M│ C│ C│ S│ S│","        P│ C│               I│   │           │    P│ S│ O│ S│ P│ P│ P│ P│","        I│ O│               2│   │          8\/    I│ P│ R│ T│ O│ H│ R│ R│","        F▼ L▼   │  │  │  │  X│   │           │    E│ E│ D│ R│ L│ A│ 1│ 0│","       ┌────────┴──┴──┴──┴───┴─┐ │           │   ┌─┴──┴──┴──┴──┴──┴──┴──┴┐","       │  SPI STATUS REGISTER  │ │           │   │ SPI CONTROL REGISTER  │","       └───────────┬───────────┘ │           │   └───────────────────────┘","                   │             │     8     │  8            ▲","                   └───────▶─────┼──────\/────┼───\/────◀─▶────┘","                                 │           │","                                 │           ▲","                                 │           │","                                 ▼           ▼","                           SPI INTERRUPT  INTERNAL","                              REQUEST     DATA BUS"],"syntax":null,"type":"codeListing"}],"kind":"content"}],"hierarchy":{"paths":[["doc:\/\/CoreAVR\/documentation\/CoreAVR"]]},"variants":[{"paths":["\/documentation\/coreavr\/spi"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/CoreAVR\/documentation\/CoreAVR\/SPI"},"metadata":{"fragments":[{"kind":"keyword","text":"enum"},{"text":" ","kind":"text"},{"kind":"identifier","text":"SPI"}],"modules":[{"name":"CoreAVR"}],"symbolKind":"enum","externalID":"s:7CoreAVR3SPIO","role":"symbol","title":"SPI","navigatorTitle":[{"text":"SPI","kind":"identifier"}],"roleHeading":"Enumeration"},"schemaVersion":{"minor":3,"major":0,"patch":0},"abstract":[{"text":"SPI🤞🏼– Serial Peripheral Interface","type":"text"}],"sections":[],"references":{"doc://CoreAVR/documentation/CoreAVR/SPI":{"kind":"symbol","title":"SPI","role":"symbol","identifier":"doc:\/\/CoreAVR\/documentation\/CoreAVR\/SPI","navigatorTitle":[{"text":"SPI","kind":"identifier"}],"url":"\/documentation\/coreavr\/spi","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"text":"SPI","kind":"identifier"}],"abstract":[{"text":"SPI🤞🏼– Serial Peripheral Interface","type":"text"}],"type":"topic"},"doc://CoreAVR/documentation/CoreAVR/SPI/ClockPolarity":{"title":"SPI.ClockPolarity","role":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"ClockPolarity"}],"url":"\/documentation\/coreavr\/spi\/clockpolarity","abstract":[],"kind":"symbol","identifier":"doc:\/\/CoreAVR\/documentation\/CoreAVR\/SPI\/ClockPolarity","navigatorTitle":[{"text":"ClockPolarity","kind":"identifier"}],"type":"topic"},"doc://CoreAVR/documentation/CoreAVR":{"abstract":[],"type":"topic","role":"collection","title":"CoreAVR","identifier":"doc:\/\/CoreAVR\/documentation\/CoreAVR","kind":"symbol","url":"\/documentation\/coreavr"},"doc://CoreAVR/documentation/CoreAVR/SPI/ClockPhase":{"role":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"ClockPhase"}],"abstract":[],"url":"\/documentation\/coreavr\/spi\/clockphase","type":"topic","identifier":"doc:\/\/CoreAVR\/documentation\/CoreAVR\/SPI\/ClockPhase","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"ClockPhase"}],"title":"SPI.ClockPhase"},"doc://CoreAVR/documentation/CoreAVR/SPI/ClockRateSelect":{"kind":"symbol","title":"SPI.ClockRateSelect","role":"symbol","identifier":"doc:\/\/CoreAVR\/documentation\/CoreAVR\/SPI\/ClockRateSelect","navigatorTitle":[{"text":"ClockRateSelect","kind":"identifier"}],"url":"\/documentation\/coreavr\/spi\/clockrateselect","fragments":[{"kind":"keyword","text":"enum"},{"text":" ","kind":"text"},{"kind":"identifier","text":"ClockRateSelect"}],"abstract":[],"type":"topic"}}}